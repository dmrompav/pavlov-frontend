window.onload=function(){var e=document.querySelector(".main"),t=document.querySelectorAll(".main__block"),n=document.querySelectorAll(".mainx"),l=document.querySelectorAll(".second"),o=(document.querySelector(".cont"),document.querySelectorAll(".cont__ind")),s=document.querySelector(".clickable"),c=[],a=[];for(i=0;i<l.length;i++)c[i]=l[i].querySelectorAll(".second__block");for(i=0;i<o.length;i++)a[i]=o[i].querySelectorAll(".cont__ind_num");var r=0,d=[0,0,0,0,0,0,0,0,0,0,0,0],m=!0,u=1;window.innerWidth,window.innerHeight;for(window.addEventListener("resize",(function(e){window.innerWidth,window.innerHeight})),document.querySelector(".nojs").remove(),e.style.opacity=1,document.querySelector(".hi").style.animation="hi 2s linear 1s",i=0;i<t.length;i++)t[i].addEventListener("click",y,!1);function y(){for(i=0;i<t.length;i++)t[i]==this&&(r=i,console.log(r+";"+d[r]+" - Mclick : "+c[r].length+" elems"));for(h(),j=0;j<c[r].length;j++)c[r][j].addEventListener("click",f,!1)}function f(e){for(i=0;i<c[r].length;i++)if(c[r][i]==this)if(i!==d[r])e.preventDefault(),d[r]=i,console.log(r+";"+d[r]+" - Sclick"),_();else{if(console.log(r+";"+d[r]+" - Selected"),this==c[7][1]){let e=90+90*u,t=e+180,n=this.querySelectorAll(".flip__square");n[0].style.transform="rotateY("+e+"deg)",n[1].style.transform="rotateY("+t+"deg)",console.log("Flip"),u*=-1,document.body.style=-1==u?"background-color: #b33939; background: linear-gradient(to bottom, #000000, #b33939 40%, #b33939 60%, #000000);":"background-color: #2c2c54; background: linear-gradient(to bottom, #000000, #40407a 40%, #40407a 60%, #000000);"}this.classList.contains("not-active")||v()}}function h(){for(i=0;i<t.length;i++)l[i].style.overflow="hidden",l[i].style.opacity=0,t[i].classList.add("main__selectable"),t[i].classList.remove("main__selected");l[r].style.overflow="visible",l[r].style.opacity=1,e.style.top=200,e.style.left=300-180*r,t[r].classList.remove("main__selectable"),t[r].classList.add("main__selected"),g()}function _(){for(i=0;i<c[r].length;i++)c[r][i].classList.add("second__selectable"),c[r][i].classList.remove("second__selected");l[r].style.top=190-100*d[r],c[r][d[r]].classList.remove("second__selectable"),c[r][d[r]].classList.add("second__selected")}function g(){0==r?n[0].style.animation="none":7==r?n[1].style.animation="none":(n[0].style.animation="pulse 1.5s ease-in-out 0s alternate infinite",n[1].style.animation="pulse 1.5s ease-in-out 0s alternate infinite")}function v(){m=!1,e.style.top=-500,l[r].style.left=-1500,n[0].style.animation="none",n[1].style.animation="none",a[r][d[r]].style.opacity=1,a[r][d[r]].style.transform="translate(-50%, -50%) scale(1)",s.style.transform="scale(1)";let t=document.createElement("div");t.className="close",t.innerHTML="X",a[r][d[r]].prepend(t),document.querySelector(".close").onclick=w,s.onclick=w}function w(){m=!0,e.style.top=200,l[r].style.left=300,a[r][d[r]].style.opacity=0,a[r][d[r]].style.transform="translate(-50%, -50%) scale(0)",s.style.transform="scale(0)",document.querySelector(".close").remove(),g()}function b(e){m&&(delta=e.deltaY||e.detail||e.wheelDelta,c[r].length>1&&(d[r]<1?delta>0&&d[r]++:d[r]<c[r].length-1?delta>0?d[r]++:d[r]--:delta<0&&d[r]--,_(),console.log(r+";"+d[r]+" - wheel")))}n[0].onclick=function(){r>0&&r--,h()},n[1].onclick=function(){r<7&&r++,h()},elem=document,elem.addEventListener?"onwheel"in document?elem.addEventListener("wheel",b):"onmousewheel"in document?elem.addEventListener("mousewheel",b):elem.addEventListener("MozMousePixelScroll",b):elem.attachEvent("onmousewheel",b)};